{% extends 'main.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
    .box-title {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #feature {
        max-width: 500px;
        max-height: 600px;
        object-fit: cover;
        cursor: pointer;
        border: 2px solid black;

    }

    .featured {
        object-fit: cover;
        max-width: 180px;
        max-height: 100px;
        cursor: pointer;
        opacity: 0.5;
        margin: 5px;
        border: 2px solid black;

    }

    .featured:hover {
        opacity: 1;
    }

    .active {
        opacity: 1;
    }

    #slide-wrapper {
        max-width: 500px;
        display: flex;
        min-height: 100px;
        align-items: center;
    }

    #slider {
        width: 440px;
        display: flex;
        flex-wrap: nowrap;
        overflow-x: hidden;

    }

    #slider {
        width: 440px;
        display: flex;
        flex-wrap: nowrap;
        overflow-x: auto;


    }

    #slider::-webkit-scrollbar {
        width: 8px;

    }

    #slider::-webkit-scrollbar-track {
        -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);

    }

    #slider::-webkit-scrollbar-thumb {
        background-color: #dede2e;
        outline: 1px solid slategrey;
        border-radius: 100px;

    }

    #slider::-webkit-scrollbar-thumb:hover {
        background-color: #18b5ce;
    }

    .arrow {
        width: 30px;
        height: 30px;
        cursor: pointer;
        transition: .3s;
    }

    .arrow:hover {
        opacity: .5;
        width: 35px;
        height: 35px;
    }

    .column {
        display: flex;
        align-items: left;
        justify-content: left;
    }

    .product-title {
        display: flex;
        margin-left: 350px;
        margin-top: -230px;
    }

    .product {
        display: flex;
        margin-right: 420px;
    }

    .btn {
        padding: 10px;

    }

    .pricing {

        margin-left: 100px;
        margin-top: 10px;
        margin-right: -285px;
    }

    .product-category {
        display: flex;
        margin-left: 350px;
        margin-top: -80px;
    }

    .product-description {
        display: flex;
        margin-left: 350px;
        margin-top: 10px;
        font-weight: 300;
    }

    .checked {
        color: orange;
    }

    .product-ratings {
        padding: 20px;
        margin-left: 750px;
        margin-top: 20px;
    }

    .c-footer {
        padding: 40px;
        margin-left: 120px;
        margin-top: -80px;

    }

    .c-facebook {w
        margin-right: 10px;
    }

    .c-twitter {
        margin-right: 0px;
    }

    .c-linkedin {
        margin-right: 10px;
    }
</style>


<div style="width: 100%; float:left">
    <div class="col-lg-4">

        <img class="thumbnail" id="feature" src="{{product.imageURL}}">

        <div id="slide-wrapper">
            <img id="slideLeft" class="arrow" src="{% static 'images/arrow-left.png' %}">

            <div id="slider">
                <img class="featured" id="featured-id" src="{{product.imageURL}}">

                {% for image in product.image_set.all%}

                <img class="featured" id="featured-id" src="{{image.ProductimageURL}}">

                {% endfor %}
            </div>

            <img id="slideRight" class="arrow" src="{% static 'images/arrow-right.png' %}">
        </div>

    </div>
    <div style="height: 100px;">
        <div class="product-title">
            <h6 class="product-title"><strong>{{product.name}}</strong></h6>
        </div>
        <div class="product-category">
            <h6 class="product-category">Category:<strong>{{product.product_category.product_category}}</strong></h6>
        </div>
        <div class="product-description">
            <h6 class="product-description">{{product.product_description1}}</h6>
        </div>
        <div class="product-description">
            <h6 class="product-description">{{product.product_description2}}</h6>
        </div>

        <div class="product-ratings">
            {% if product.avg_rating == 1 %}
            <span><strong>Ratings: &nbsp; </strong></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span>
            {% elif product.avg_rating == 2 %}
            <span><strong>Ratings: &nbsp; </strong></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span>
            {% elif product.avg_rating == 3 %}
            <span><strong>Ratings: &nbsp; </strong></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span>
            {% elif product.avg_rating == 4 %}
            <span><strong>Ratings: &nbsp; </strong></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star"></span>
            {% elif product.avg_rating == 5 %}
            <span><strong>Ratings: &nbsp; </strong></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            {% endif %}
        </div>

        <div class="product">
            <hr>
            <button data-product={{product.id}} data-action="add"
                class="btn btn-outline-secondary add-btn update-cart">Add
                to Cart</button>
            <h4 style="display: inline-block; float: right" class="pricing">${{product.price|floatformat:2}}</h4>
        </div>
        <br>
        <p>Share this product :
        </p>
        <div class="c-footer">
            <a href='https://www.facebook.com/sharer.php?u={{ request.build_absolute_uri }}' target='_blank'
                rel="noreferrer" class='c-facebook'>
                <img src="{% static 'images/fb.png' %}" alt="Facebook" height="20" width="20" />
            </a>
            <a href='https://twitter.com/intent/tweet
?url={{ request.build_absolute_uri }}' target='_blank' rel="noreferrer" class='c-twitter'>
                <img src="{% static 'images/twitter.png' %}" alt="Twitter" height="20" width="20" />
            </a>
            <a href='https://www.linkedin.com/sharing/share-offsite/
?url={{ request.build_absolute_uri }}' target='_blank' rel="noreferrer" class='c-linkedin'>
                <img src="{% static 'images/linkedin.png' %}" alt="LinkedIn" height="20" width="20" />
            </a>
        </div>
    </div>
</div>


<script type="text/javascript">
    let thumbnails = document.getElementsByClassName('featured')
    let activeImages = document.getElementsByClassName('active')
    for (var i = 0; i < thumbnails.length; i++) {
        thumbnails[i].addEventListener('mouseover', function () {

            if (activeImages.length > 0) {
                activeImages[0].classList.remove('active')
            }

            this.classList.add('active')
            document.getElementById('feature').src = this.src

        })


    }

    const buttonRight = document.getElementById('slideRight');
    const buttonLeft = document.getElementById('slideLeft');


    buttonRight.addEventListener('click', function () {
        document.getElementById('slider').scrollLeft += 180;
    })



    buttonLeft.addEventListener('click', function () {
        document.getElementById('slider').scrollLeft -= 180;
    })

</script>
{% endblock %}